<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Bibliographic Coupling &mdash; tethne 0.6.0-beta documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6.0-beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="top" title="tethne 0.6.0-beta documentation" href="index.html" >
    <link rel="up" title="Tutorials" href="tutorials.html" >
    <link rel="next" title="Coauthorship Networks" href="tutorial.coauthors.html" >
    <link rel="prev" title="Working with Corpora" href="corpora.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0; height: 60px;" alt="SciPy" src="_static/img/logo_long_devo.png"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://diging.github.io/tethne/">Tethne</a></li>
	
        <li class="active"><a href="index.html">tethne 0.6.0-beta documentation</a></li>
	
          <li class="active"><a href="tutorials.html" accesskey="U">Tutorials</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="tutorial.coauthors.html" title="Coauthorship Networks"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="corpora.html" title="Working with Corpora"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="bibliographic-coupling">
<h1>Bibliographic Coupling<a class="headerlink" href="#bibliographic-coupling" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#getting-started" id="id3">Getting Started</a></li>
<li><a class="reference internal" href="#reading-wos-data" id="id4">Reading WoS Data</a></li>
<li><a class="reference internal" href="#building-a-static-network" id="id5">Building a Static Network</a></li>
<li><a class="reference internal" href="#export-to-graphml" id="id6">Export to GraphML</a></li>
<li><a class="reference internal" href="#visualizing-static-networks-in-cytoscape" id="id7">Visualizing Static Networks in Cytoscape</a><ul>
<li><a class="reference internal" href="#import" id="id8">Import</a></li>
<li><a class="reference internal" href="#cluster-detection" id="id9">Cluster Detection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#evolving-networks" id="id10">Evolving Networks</a><ul>
<li><a class="reference internal" href="#slicing-a-corpus" id="id11">Slicing a Corpus</a></li>
<li><a class="reference internal" href="#building-a-graphcollection" id="id12">Building a GraphCollection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualizing-a-dynamic-network" id="id13">Visualizing a Dynamic Network</a></li>
</ul>
</div>
<p>Bibliographic coupling can be a useful and computationally cheap way to explore the
thematic topology of a large scientific literature.</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Bibliographic_coupling">Bibliographic coupling</a> was first
proposed as a method for detecting latent topical affinities among research publications
by Myer M. Kessler at MIT in 1958. In 1972, J.C. Donohue suggested that bibliographic
coupling could be used to the map &#8220;research fronts&#8221; in science, and this method, along
with co-citation analysis and other citation-based clustering techniques, became a core
methodology of the science-mapping craze of the 1970s. Bibliographic coupling is still
employed in the context of both information-retrieval and science-studies.</p>
<p>Two papers are bibliographically coupled if they both cite at least some of the same
papers. The core assumption of bibliographic coupling analysis is that if two papers
cite similar literatures, then they must be topically related in some way. That is, they
are more likely to be related to each other than to papers with which they share no cited
references.</p>
<a class="reference internal image-reference" href="_images/citationnetworks.png"><img alt="_images/citationnetworks.png" class="align-center" src="_images/citationnetworks.png" style="width: 600px;" /></a>
<p>This tutorial provides a walk-through for building bibliographic coupling networks from
Web of Science citation data. What we are aiming for is a graph model of our bibliographic
data that reveals thematically coherent and informative clusters of documents. We will use
Tethne&#8217;s <tt class="xref py py-func docutils literal"><span class="pre">bibligraphic_coupling()</span></tt> method, along with Cytocape&#8217;s MCODE clustering
plugin, to generate a visualization that looks something like this:</p>
<a class="reference internal image-reference" href="_images/bibliographic_coupling.png"><img alt="_images/bibliographic_coupling.png" class="align-center" src="_images/bibliographic_coupling.png" style="width: 600px;" /></a>
<p>In this example, each node represents a scientific paper, and each densely-connected
colored group of nodes corresponds to a research theme or sub-field that holds those
papers together.</p>
<div class="section" id="getting-started">
<h2><a class="toc-backref" href="#id3">Getting Started</a><a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Before you begin, be sure to install the latest version of Tethne. Consult the
<em class="xref std std-ref">installation</em> guide for details.</p>
<p><strong>If you run into problems</strong>, don&#8217;t panic. Tethne is under active development, and there
are certainly bugs to be found. Please report any problems, including errors in this
tutorial, via our <a class="reference external" href="https://github.com/diging/tethne/issues?state=open">GitHub issue tracker</a>.</p>
<p>For this tutorial, you&#8217;ll need some citation data from the ISI Web of Science. If this is
your first time working with WoS citation data, check out <a class="reference internal" href="tutorial.getting_data.html#gettingdata"><em>Getting Bibliographic Data</em></a>. We&#8217;ll
assume that you have downloaded a few sets of records from WoS, and stored them all in
the same directory.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">datapath</span> <span class="o">=</span> <span class="s">&#39;/path/to/my/data/directory&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="reading-wos-data">
<h2><a class="toc-backref" href="#id4">Reading WoS Data</a><a class="headerlink" href="#reading-wos-data" title="Permalink to this headline">¶</a></h2>
<p>You can parse WoS data from one or multiple field-tagged data files, using the methods
in the <a class="reference internal" href="tethne.readers.html#module-tethne.readers" title="tethne.readers"><tt class="xref py py-mod docutils literal"><span class="pre">readers</span></tt></a> module. Since we&#8217;re working with multiple data files, we&#8217;ll
use the <tt class="xref py py-mod docutils literal"><span class="pre">readers.wos.corpus_from_dir</span></tt> method to parse the WoS data and create
a new <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a> called <tt class="docutils literal"><span class="pre">MyCorpus</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.readers</span> <span class="kn">import</span> <span class="n">wos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MyCorpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">corpus_from_dir</span><span class="p">(</span><span class="n">datapath</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">MyCorpus</span></tt> should contain some <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a>s, as well as some citations.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">MyCorpus</span><span class="o">.</span><span class="n">papers</span><span class="p">)</span>       <span class="c"># How many Papers?</span>
<span class="go">1859</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">MyCorpus</span><span class="o">.</span><span class="n">citations</span><span class="p">)</span>    <span class="c"># How many citations?</span>
<span class="go">57774</span>
</pre></div>
</div>
<p>If you have fewer <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a>s than you expect, it is possible that some of the
records in your dataset were duplicates. If you don&#8217;t have any citations, go back
and make sure that you downloaded full records with citations from the WoS database. See
<a class="reference internal" href="tutorial.getting_data.html#gettingdata"><em>Getting Bibliographic Data</em></a>.</p>
</div>
<div class="section" id="building-a-static-network">
<h2><a class="toc-backref" href="#id5">Building a Static Network</a><a class="headerlink" href="#building-a-static-network" title="Permalink to this headline">¶</a></h2>
<p>We will first build a static bibliographic coupling network using all of the
<a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a>s in our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a>. To create a static network, we can use the
methods in <a class="reference internal" href="tethne.networks.html#module-tethne.networks" title="tethne.networks"><tt class="xref py py-mod docutils literal"><span class="pre">networks</span></tt></a> directly. The <a class="reference internal" href="tethne.networks.papers.html#tethne.networks.papers.bibliographic_coupling" title="tethne.networks.papers.bibliographic_coupling"><tt class="xref py py-func docutils literal"><span class="pre">bibliographic_coupling()</span></tt></a> method can be
found in the <a class="reference internal" href="tethne.networks.papers.html#module-tethne.networks.papers" title="tethne.networks.papers"><tt class="xref py py-mod docutils literal"><span class="pre">networks.papers</span></tt></a> module.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.networks</span> <span class="kn">import</span> <span class="n">papers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc_network</span> <span class="o">=</span> <span class="n">papers</span><span class="o">.</span><span class="n">bibliographic_coupling</span><span class="p">(</span><span class="n">MyCorpus</span><span class="o">.</span><span class="n">all_papers</span><span class="p">(),</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>In the example above, the <tt class="xref py py-func docutils literal"><span class="pre">Corpus.all_papers()</span></tt> method gets all of the papers from
<tt class="docutils literal"><span class="pre">MyCorpus</span></tt>. <tt class="docutils literal"><span class="pre">threshold=3</span></tt> means that two papers must share at least three
bibliographic references to be considered coupled.</p>
<p>Generating an informative graph using bibliographic coupling will require some tuning.
Depending on the criteria that you used to generate your bibliographic dataset, you may
need to adjust the coupling <tt class="docutils literal"><span class="pre">threshold</span></tt>. Papers from a relatively narrow field have a
high probability of sharing cited references, thus a threshold of <tt class="docutils literal"><span class="pre">1</span></tt> shared reference
will result in a nearly complete graph that yields little information about the latent
topical structure of that literature. If your dataset contains papers from quite disparate
fields, however, you may wish to keep the threshold low.</p>
<p>Since papers vary widely in the total number of references that they cite, it may be
desirable to use a normalized overlap value rather than an absolute one. If the
<tt class="docutils literal"><span class="pre">weighted</span></tt> parameter is set to <tt class="docutils literal"><span class="pre">True</span></tt>, Tethne will use the normalized similarity
metric <tt class="docutils literal"><span class="pre">s</span></tt>:</p>
s = \frac{N_{i|j}}{\sqrt{ N_i N_j }}<p>If you choose to use absolute overlap (<tt class="docutils literal"><span class="pre">weighted</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt>), we suggest starting
with a <tt class="docutils literal"><span class="pre">threshold</span></tt> of <tt class="docutils literal"><span class="pre">5</span></tt>, and then adjusting it upward or downward to achieve optimal
clustering. If you choose to use normalized overlap (<tt class="docutils literal"><span class="pre">weighted</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>), then try
starting with a <tt class="docutils literal"><span class="pre">threshold</span></tt> of <tt class="docutils literal"><span class="pre">0.05</span></tt>.</p>
<p>We&#8217;ll also include some node attributes: <tt class="docutils literal"><span class="pre">date</span></tt>, <tt class="docutils literal"><span class="pre">jtitle</span></tt> (journal title), and
<tt class="docutils literal"><span class="pre">atitle</span></tt> (article title).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.networks</span> <span class="kn">import</span> <span class="n">papers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bc_network</span> <span class="o">=</span> <span class="n">papers</span><span class="o">.</span><span class="n">bibliographic_coupling</span><span class="p">(</span><span class="n">MyCorpus</span><span class="o">.</span><span class="n">all_papers</span><span class="p">(),</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">node_attribs</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;jtitle&#39;</span><span class="p">,</span> <span class="s">&#39;atitle&#39;</span><span class="p">],</span> <span class="n">weighted</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="export-to-graphml">
<h2><a class="toc-backref" href="#id6">Export to GraphML</a><a class="headerlink" href="#export-to-graphml" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://graphml.graphdrawing.org">GraphML</a> is a widely-used static network data format.
We will write our network to GraphML for visualization in Cytoscape.</p>
<p>This step should generate a file in your output folder called
<tt class="docutils literal"><span class="pre">[DATASET_ID]_graph_all.graphml</span></tt>.</p>
<a class="reference internal image-reference" href="_images/coauthors.6.png"><img alt="_images/coauthors.6.png" class="align-center" src="_images/coauthors.6.png" style="width: 600px;" /></a>
<p>Use the <a class="reference internal" href="tethne.writers.graph.html#tethne.writers.graph.to_graphml" title="tethne.writers.graph.to_graphml"><tt class="xref py py-func docutils literal"><span class="pre">to_graphml()</span></tt></a> method in <a class="reference internal" href="tethne.writers.graph.html#module-tethne.writers.graph" title="tethne.writers.graph"><tt class="xref py py-mod docutils literal"><span class="pre">writers.graph</span></tt></a> to create a GraphML
data file.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.writers</span> <span class="kn">import</span> <span class="n">graph</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span><span class="o">.</span><span class="n">to_graphml</span><span class="p">(</span><span class="n">bc_network</span><span class="p">,</span> <span class="s">&#39;/path/to/my/bc_network.graphml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the example above, a new file called <tt class="docutils literal"><span class="pre">bc_network.graphml</span></tt> should be created in
the <tt class="docutils literal"><span class="pre">/path/to/my</span></tt> directory.</p>
</div>
<div class="section" id="visualizing-static-networks-in-cytoscape">
<h2><a class="toc-backref" href="#id7">Visualizing Static Networks in Cytoscape</a><a class="headerlink" href="#visualizing-static-networks-in-cytoscape" title="Permalink to this headline">¶</a></h2>
<p>Cytoscape was developed in 2002, with funding from the National Instute of General Medical
Sciences and the National Resource for Network Biology. The primary user base is the
biomedical research community, especially systems biologists who study gene or protein
interaction networks and pathways.</p>
<p>You can download Cytoscape 3 from <a class="reference external" href="http://www.cytoscape.org">http://www.cytoscape.org</a>.
In this tutorial we are using Cytoscape 3.1.</p>
<div class="section" id="import">
<h3><a class="toc-backref" href="#id8">Import</a><a class="headerlink" href="#import" title="Permalink to this headline">¶</a></h3>
<p>In Cytoscape, import your network by selecting <tt class="docutils literal"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Import</span> <span class="pre">&gt;</span> <span class="pre">Network</span> <span class="pre">&gt;</span> <span class="pre">From</span> <span class="pre">file...</span></tt>
and selecting the GraphML file generated by Tethne in your output directory.</p>
<p>Tethne includes the <tt class="docutils literal"><span class="pre">similarity</span></tt> of each pair of papers as an edge attribute. You can
tell Cytoscape to take similarity into account when laying out your graph. To apply an
edge-weighted layout, select <tt class="docutils literal"><span class="pre">Layout</span> <span class="pre">&gt;</span> <span class="pre">Edge-weighted</span> <span class="pre">Spring</span> <span class="pre">Embedded</span> <span class="pre">&gt;</span> <span class="pre">similarity</span></tt>.</p>
<a class="reference internal image-reference" href="_images/cyto.1.png"><img alt="_images/cyto.1.png" class="align-center" src="_images/cyto.1.png" style="width: 900px;" /></a>
<p>Your network may look like a giant hairball. If you can&#8217;t see much structure at all, you
may wish to go back and rebuild the graph with a higher threshold. If your network is very
sparse, you may wish to lower the threshold.</p>
<p>Set edge weight as a function of <tt class="docutils literal"><span class="pre">similarity</span></tt> to see which links are the strongest in
your network.</p>
<a class="reference internal image-reference" href="_images/cyto.2.png"><img alt="_images/cyto.2.png" class="align-center" src="_images/cyto.2.png" style="width: 900px;" /></a>
<p>To get some idea of whether certain clusters in the network correspond to publication
in the same journal, set node fill color as a discrete function of <tt class="docutils literal"><span class="pre">jtitle</span></tt>. You can
automatically generate node fill colors by right-clicking on the visual mapping, and
selecting <tt class="docutils literal"><span class="pre">Mapping</span> <span class="pre">Value</span> <span class="pre">Generators</span> <span class="pre">&gt;</span> <span class="pre">Random</span> <span class="pre">Color</span></tt>.</p>
<a class="reference internal image-reference" href="_images/cyto.3.png"><img alt="_images/cyto.3.png" class="align-center" src="_images/cyto.3.png" style="width: 900px;" /></a>
<p>Since you included the title of each paper (<tt class="docutils literal"><span class="pre">atitle</span></tt>) as a node attribute, you can
get some idea of what makes a particular region of the network hang together by selecting
some nodes and inspecting the <tt class="docutils literal"><span class="pre">Node</span> <span class="pre">Table</span></tt> in the <tt class="docutils literal"><span class="pre">Table</span> <span class="pre">Panel</span></tt>. In the example below,
a quick visual inspection suggests that parasites figure heavily in the selected papers.</p>
<a class="reference internal image-reference" href="_images/cyto.4.png"><img alt="_images/cyto.4.png" class="align-center" src="_images/cyto.4.png" style="width: 900px;" /></a>
</div>
<div class="section" id="cluster-detection">
<span id="clusters"></span><h3><a class="toc-backref" href="#id9">Cluster Detection</a><a class="headerlink" href="#cluster-detection" title="Permalink to this headline">¶</a></h3>
<p>Especially if your network is very dense, it may be difficult to find salient clusters
by visual inspection alone. Clustering algorithms provide a useful way to find
groups of nodes that hang together in some way. Most clustering algorithms use an
optimization function to find groups of nodes that are more densely connected among
themselves than with the rest of the network.</p>
<p>One such clustering algorithm in Cytoscape is provided by the MCODE app. To install
the MCODE app:</p>
<ol class="arabic simple">
<li>Select <tt class="docutils literal"><span class="pre">Apps</span> <span class="pre">&gt;</span> <span class="pre">App</span> <span class="pre">Manager</span></tt> from the main menu.</li>
<li>Click on the <tt class="docutils literal"><span class="pre">Install</span> <span class="pre">Apps</span></tt> tab, and find MCODE in the list of available apps.</li>
<li>Click the <tt class="docutils literal"><span class="pre">Install</span></tt> button.</li>
</ol>
<a class="reference internal image-reference" href="_images/cyto.5.png"><img alt="_images/cyto.5.png" class="align-center" src="_images/cyto.5.png" style="width: 500px;" /></a>
<p>MCODE should now appear in the <tt class="docutils literal"><span class="pre">Apps</span></tt> menu.</p>
<a class="reference internal image-reference" href="_images/cyto.6.png"><img alt="_images/cyto.6.png" class="align-center" src="_images/cyto.6.png" style="width: 400px;" /></a>
<ol class="arabic simple">
<li>Select <tt class="docutils literal"><span class="pre">Apps</span> <span class="pre">&gt;</span> <span class="pre">MCODE</span> <span class="pre">&gt;</span> <span class="pre">Open</span> <span class="pre">MCODE</span></tt>. A new tab should appear in the <tt class="docutils literal"><span class="pre">Control</span> <span class="pre">Panel</span></tt>
at left.</li>
<li>To adjust the parameters of the MCODE cluster-finding algorithm, expand the
<tt class="docutils literal"><span class="pre">Advanced</span> <span class="pre">Options</span></tt>. MCODE works reasonable well with the default settings.</li>
<li>Click the <tt class="docutils literal"><span class="pre">Analyze</span> <span class="pre">current</span> <span class="pre">network</span></tt> button.</li>
</ol>
<a class="reference internal image-reference" href="_images/cyto.7.png"><img alt="_images/cyto.7.png" class="align-center" src="_images/cyto.7.png" style="width: 90px;" /></a>
<p>After a few moments, a new window should appear on the right side of the Cytoscape
workspace. Click on a cluster in the <tt class="docutils literal"><span class="pre">Cluster</span> <span class="pre">Browser</span></tt> to select all of the nodes in
that cluster. In some cases, MCODE will find clusters that are not at all obvious
visually. This should give you an impression of the limitations of two-dimensional
layouts for studying network structure, especially in very large, dense networks.</p>
<p>In the example below, MCODE has found a cluster of papers dealing with invertebrate
predators in marine inter-tidal zones.</p>
<a class="reference internal image-reference" href="_images/cyto.8.png"><img alt="_images/cyto.8.png" class="align-center" src="_images/cyto.8.png" style="width: 900px;" /></a>
<p>MCODE allows you to create a subnetwork from the selected cluster, or export your results.
Exporting your results produces a table like the one shown below, listing each of the
detected clusters and the papers the belong to them.</p>
<p><em>Future versions of Tethne will use this result to generate labels for each cluster based
on the terms that uniquely characterize those groups of papers.</em></p>
<a class="reference internal image-reference" href="_images/cyto.9.png"><img alt="_images/cyto.9.png" class="align-center" src="_images/cyto.9.png" style="width: 500px;" /></a>
<p>MCODE sets three node attributes:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">MCODE_Cluster</span></tt> contains the name of the cluster to which each node belongs.</li>
<li><tt class="docutils literal"><span class="pre">MCODE_Score</span></tt> indicates how strongly the neighbors around a node cluster together.
This is similar to the <a class="reference external" href="http://en.wikipedia.org/wiki/Clustering_coefficient#Local_clustering_coefficient">Local clustering coefficient</a></li>
<li><tt class="docutils literal"><span class="pre">MCODE_Node_Status</span></tt> indicates whether a node is clustered, unclustered, or a seed
node. Seed nodes are the reference nodes chosen by MCODE at the start of the
cluster-detection process.</li>
</ul>
</div></blockquote>
<p>In the visualization below, node fill color is mapped to <tt class="docutils literal"><span class="pre">MCODE_Cluster</span></tt>. Node size is
mapped to <tt class="docutils literal"><span class="pre">MCODE_Node_Status</span></tt>: unclustered nodes are small, seed nodes are large, and
clustered nodes are intermediate in size.</p>
<a class="reference internal image-reference" href="_images/cyto.10.png"><img alt="_images/cyto.10.png" class="align-center" src="_images/cyto.10.png" style="width: 900px;" /></a>
</div>
</div>
<div class="section" id="evolving-networks">
<h2><a class="toc-backref" href="#id10">Evolving Networks</a><a class="headerlink" href="#evolving-networks" title="Permalink to this headline">¶</a></h2>
<p>If your dataset contains records from across a broad time-domain, you may also wish to
view the evolution of your bibliographic coupling network over time. We can do this
by &#8220;slicing&#8221; our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a>, and generating a <a class="reference internal" href="tethne.classes.graphcollection.html#tethne.classes.graphcollection.GraphCollection" title="tethne.classes.graphcollection.GraphCollection"><tt class="xref py py-class docutils literal"><span class="pre">GraphCollection</span></tt></a> that holds
a set of sequential graphs.</p>
<div class="section" id="slicing-a-corpus">
<span id="id2"></span><h3><a class="toc-backref" href="#id11">Slicing a Corpus</a><a class="headerlink" href="#slicing-a-corpus" title="Permalink to this headline">¶</a></h3>
<p>Think of slicing as indexing: we will divide the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><tt class="xref py py-class docutils literal"><span class="pre">Paper</span></tt></a>s in our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a>
into bins by publication date, so that later on we can retrieve sets of papers
corresponding to particular time-periods. You can slice your data using the
<tt class="xref py py-func docutils literal"><span class="pre">Corpus.slice()</span></tt> method.</p>
<p>In this tutorial, we&#8217;ll slice our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a> using a &#8220;sliding time-window&#8221;. Rather
than dividing papers into sequential non-overlapping time periods, the &#8220;time window&#8221;
method generates overlapping subsets. For details, see <tt class="xref py py-func docutils literal"><span class="pre">Corpus.slice()</span></tt>.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/timeline.timeslice.png"><img alt="_images/timeline.timeslice.png" src="_images/timeline.timeslice.png" style="width: 400px;" /></a>
<p class="caption"><strong>Time-period</strong> slicing, with a window-size of 4 years.</p>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/timeline.timewindow.png"><img alt="_images/timeline.timewindow.png" src="_images/timeline.timewindow.png" style="width: 400px;" /></a>
<p class="caption"><strong>Time-window</strong> slicing, with a window-size of 4 years and a step-size of 1 year.</p>
</div>
<p>To slice our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a>, we&#8217;ll use a four-year sliding time-window.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">MyCorpus</span><span class="p">(</span><span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;time_window&#39;</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="building-a-graphcollection">
<h3><a class="toc-backref" href="#id12">Building a GraphCollection</a><a class="headerlink" href="#building-a-graphcollection" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="tethne.classes.graphcollection.html#tethne.classes.graphcollection.GraphCollection" title="tethne.classes.graphcollection.GraphCollection"><tt class="xref py py-class docutils literal"><span class="pre">GraphCollection</span></tt></a> is a set of graphs generated from a <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><tt class="xref py py-class docutils literal"><span class="pre">Corpus</span></tt></a> or model.
We can generate a GraphCollection (<tt class="docutils literal"><span class="pre">G</span></tt>) in one step, using the
<tt class="xref py py-func docutils literal"><span class="pre">GraphCollection.build()</span></tt> method.</p>
<p>A simple example might look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">GraphCollection</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;papers&#39;</span><span class="p">,</span> <span class="s">&#39;bibliographic_coupling&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here we have instructed <tt class="xref py py-func docutils literal"><span class="pre">GraphCollection.build()</span></tt> to build a graph for each &#8216;slice&#8217;
along the &#8216;date&#8217; axis. <tt class="docutils literal"><span class="pre">'papers'</span></tt> indicates that we want to use a graph method from
the <a class="reference internal" href="tethne.networks.papers.html#module-tethne.networks.papers" title="tethne.networks.papers"><tt class="xref py py-mod docutils literal"><span class="pre">networks.papers</span></tt></a> submodule, and <tt class="docutils literal"><span class="pre">'bibliographic_coupling'</span></tt> indicates the
name of the method from that module that we wish to use.</p>
<p>To apply the parameters from our static network, we can also set the <tt class="docutils literal"><span class="pre">method_kwargs</span></tt>
parameter. First we&#8217;ll define the parameters that we wish to set:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">method_kwargs</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>         <span class="s">&#39;threshold&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
<span class="gp">... </span>         <span class="s">&#39;node_attribs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;jtitle&#39;</span><span class="p">,</span> <span class="s">&#39;atitle&#39;</span><span class="p">],</span>
<span class="gp">... </span>         <span class="s">&#39;weighted&#39;</span><span class="p">:</span> <span class="bp">True</span>
<span class="gp">... </span> <span class="p">}</span>
</pre></div>
</div>
<p>And then we&#8217;ll pass those parameters to <tt class="xref py py-func docutils literal"><span class="pre">GraphCollection.build()</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="n">GraphCollection</span><span class="p">()</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="s">&#39;papers&#39;</span> <span class="s">&#39;bibliographic_coupling&#39;</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">method_kwargs</span><span class="o">=</span><span class="n">method_kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">G</span></tt> should now contain a series of graphs, one per time-window.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">.</span><span class="n">graphs</span>
<span class="go">{1921: &lt;networkx.classes.graph.Graph at 0x10b2692d0&gt;,</span>
<span class="go">     1922: &lt;networkx.classes.graph.Graph at 0x10b269c50&gt;,</span>
<span class="go">     1923: &lt;networkx.classes.graph.Graph at 0x10b269c10&gt;,</span>
<span class="go">     1924: &lt;networkx.classes.graph.Graph at 0x10b2695d0&gt;,</span>
<span class="go">     1925: &lt;networkx.classes.graph.Graph at 0x10b269dd0&gt;,</span>
<span class="go">     1926: &lt;networkx.classes.graph.Graph at 0x10a88bb90&gt;,</span>
<span class="go">     1927: &lt;networkx.classes.graph.Graph at 0x10a88b0d0&gt;,</span>
<span class="go">     1928: &lt;networkx.classes.graph.Graph at 0x10b269a50&gt;,</span>
<span class="go">     1929: &lt;networkx.classes.graph.Graph at 0x10b269b50&gt;,</span>
<span class="go">     1930: &lt;networkx.classes.graph.Graph at 0x10b269790&gt;,</span>
<span class="go">     1931: &lt;networkx.classes.graph.Graph at 0x10b269d50&gt;,</span>
<span class="go">     1932: &lt;networkx.classes.graph.Graph at 0x10a88bed0&gt;}</span>
</pre></div>
</div>
<p>Here the date keys (1921-1932) refer to the start-date of each time-window. So the key
1921 refers to the time-window 1921-1924.</p>
</div>
</div>
<div class="section" id="visualizing-a-dynamic-network">
<h2><a class="toc-backref" href="#id13">Visualizing a Dynamic Network</a><a class="headerlink" href="#visualizing-a-dynamic-network" title="Permalink to this headline">¶</a></h2>
<p>Use the <a class="reference internal" href="tethne.writers.collection.html#tethne.writers.collection.to_dxgmml" title="tethne.writers.collection.to_dxgmml"><tt class="xref py py-func docutils literal"><span class="pre">writers.collection.to_dxgmml()</span></tt></a> method to create a <a class="reference external" href="https://code.google.com/p/dynnetwork/wiki/DynamicXGMML">dynamic XGMML</a> network data file.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.writers</span> <span class="kn">import</span> <span class="n">collection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collection</span><span class="o">.</span><span class="n">to_dxgmml</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s">&#39;/path/to/my/dynamicnetwork.xgmml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In Cytoscape, import your .xgmml file by selecting
<tt class="docutils literal"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Import</span> <span class="pre">&gt;</span> <span class="pre">Dynamic</span> <span class="pre">Network</span> <span class="pre">&gt;</span> <span class="pre">XGMML</span> <span class="pre">File...</span></tt>. Apply a force-directed or
spring-embedded layout.</p>
<a class="reference internal image-reference" href="_images/coauthors.34.png"><img alt="_images/coauthors.34.png" class="align-center" src="_images/coauthors.34.png" style="width: 450px;" /></a>
<p>In the Control Panel, select the <tt class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Network</span></tt> tab.</p>
<ol class="arabic simple">
<li>Set the time resolution to roughly match the time-range of your network. In the
example below, the network covers about 35 years, so a resolution of 1/50 was selected.</li>
<li>Set <tt class="docutils literal"><span class="pre">Time</span> <span class="pre">smoothness</span></tt> to <tt class="docutils literal"><span class="pre">0</span> <span class="pre">ms</span></tt>.</li>
<li>Use the slider to move through the states of your dynamic network. To view all states
in succession, use the <tt class="docutils literal"><span class="pre">&lt;&lt;</span> <span class="pre">Play</span></tt> and <tt class="docutils literal"><span class="pre">Play</span> <span class="pre">&gt;&gt;</span></tt> buttons.</li>
</ol>
<a class="reference internal image-reference" href="_images/coauthors.37.png"><img alt="_images/coauthors.37.png" class="align-center" src="_images/coauthors.37.png" style="width: 550px;" /></a>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo_round.png" alt="Logo">
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Bibliographic Coupling</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#reading-wos-data">Reading WoS Data</a></li>
<li><a class="reference internal" href="#building-a-static-network">Building a Static Network</a></li>
<li><a class="reference internal" href="#export-to-graphml">Export to GraphML</a></li>
<li><a class="reference internal" href="#visualizing-static-networks-in-cytoscape">Visualizing Static Networks in Cytoscape</a><ul>
<li><a class="reference internal" href="#import">Import</a></li>
<li><a class="reference internal" href="#cluster-detection">Cluster Detection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#evolving-networks">Evolving Networks</a><ul>
<li><a class="reference internal" href="#slicing-a-corpus">Slicing a Corpus</a></li>
<li><a class="reference internal" href="#building-a-graphcollection">Building a GraphCollection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#visualizing-a-dynamic-network">Visualizing a Dynamic Network</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="corpora.html"
                        title="previous chapter">Working with Corpora</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial.coauthors.html"
                        title="next chapter">Coauthorship Networks</a></p>
  <h3>This Page</h3>
  <div>
    <a href="_sources/tutorial.bibliocoupling.txt"
       rel="nofollow">Show Source</a>
  </div>
<div class="this-page-menu">
  <a href="/scipy/docs/scipy-docs/tutorial.bibliocoupling.rst">Edit page</a>
</div>

        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2013, ASU Digital Innovation Group.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>